const moveSnake = () => {
  const currentHeadCoords = {
    row: snake.head.value.row,
    col: snake.head.value.col,
  };

  const newHead = new LinkedListNode({
    row: nextHeadCoords.row,
    col: nextHeadCoords.col,
    cell: nextHeadCell,
  });
  const currentHead = snake.head;
  snake.head = newHead;
  currentHead.next = newHead;

  const newSnakeCells = new Set(snakeCells);
  newSnakeCells.delete(snake.tail.value.cell);
  newSnakeCells.add(nextHeadCell);

  snake.tail = snake.tail.next;
  if (snake.tail === null) snake.tail = snake.head;

  const foodConsumed = nextHeadCell === foodCell;
  if (foodConsumed) {
    // This function mutates newSnakeCells.
    growSnake(newSnakeCells);
    if (foodShouldReverseDirection) reverseSnake();
    handleFoodConsumption(newSnakeCells);
  }

  setSnakeCells(newSnakeCells);
};
